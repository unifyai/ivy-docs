
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Building a custom router &#8212; Unify Documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.1/css/all.min.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />
    <link rel="stylesheet" type="text/css" href="../_static/css/custom.css?v=7c465b21" />
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Inter:100,200,300,regular,500,600,700,800,900" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae" />
  <script src="../_static/vendor/fontawesome/6.5.1/js/all.min.js?digest=8d27b9dea8ad943066ae"></script>

    <script src="../_static/documentation_options.js?v=3ce10a4d"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=4ea706d9"></script>
    <script src="../_static/design-tabs.js?v=36754332"></script>
    <script async="async" src="https://www.googletagmanager.com/gtag/js?id=G-QP5BET66XH"></script>
    <script>
                window.dataLayer = window.dataLayer || [];
                function gtag(){ dataLayer.push(arguments); }
                gtag('js', new Date());
                gtag('config', 'G-QP5BET66XH');
            </script>
    <script>
                window.dataLayer = window.dataLayer || [];
                function gtag(){ dataLayer.push(arguments); }
                gtag('js', new Date());
                gtag('config', 'G-QP5BET66XH');
            </script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'interfaces/building_router';</script>
    <link rel="icon" href="https://github.com/unifyai/unifyai.github.io/blob/main/img/externally_linked/ivy_logo_only.png?raw=true"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Model Endpoints" href="../concepts/endpoints.html" />
    <link rel="prev" title="Benchmarking endpoints" href="running_benchmarks.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a id="pst-skip-link" class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <header class="bd-header navbar navbar-expand-lg bd-navbar"><div id="unify-navbar"></div>
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          <div class="navbar-item">
<nav class="navbar-nav">
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../index.html">
                        Welcome to Unify!
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-external" href="https://api.unify.ai/v0/docs">
                        API Reference
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../api/unify_api.html">
                        Universal API
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../api/benchmarks.html">
                        Benchmarking
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../api/router.html">
                        Routing
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../demos/unify.html">
                        Python Package Examples
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../demos/langchain.html">
                        LangChain Examples
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../demos/llamaindex.html">
                        LlamaIndex Examples
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="connecting_stack.html">
                        Connecting your stack
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="running_benchmarks.html">
                        Benchmarking endpoints
                      </a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="#">
                        Building a custom router
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../concepts/endpoints.html">
                        Model Endpoints
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../concepts/benchmarks.html">
                        Benchmarks
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../concepts/routing.html">
                        Routing
                      </a>
                    </li>
                
  </ul>
</nav></div>
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item"><nav class="bd-docs-nav bd-links"
  aria-label="Section Navigation">
    <div class="bd-toc-item navbar-nav">
        <ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../index.html">Welcome to Unify!</a></li>
<li class="toctree-l1"><a class="reference external" href="https://api.unify.ai/v0/docs">API Reference</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">API</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../api/unify_api.html">Universal API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/benchmarks.html">Benchmarking</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/router.html">Routing</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Demos</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../demos/unify.html">Python Package Examples</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../demos/demos/Unify/ChatBot/ChatBot.html">Build a ChatBot</a></li>


<li class="toctree-l2"><a class="reference internal" href="../demos/demos/Unify/AsyncVsSync/AsyncVsSync.html">Synchronous VS Asynchronous Clients</a></li>

<li class="toctree-l2"><a class="reference internal" href="../demos/demos/Unify/LLM-Wars/README.html">LLM-Wars</a></li>
<li class="toctree-l2"><a class="reference internal" href="../demos/demos/Unify/SemanticRouter/README.html">Semantic Router</a></li>
<li class="toctree-l2"><a class="reference internal" href="../demos/demos/Unify/Chatbot_Arena/README.html">Chatbot Arena</a></li>
<li class="toctree-l2"><a class="reference internal" href="../demos/demos/Unify/LLM_Debate/README.html">AI Debate App</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../demos/langchain.html">LangChain Examples</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-2"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../demos/demos/LangChain/RAG_playground/README.html">RAG Playground üõù</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../demos/llamaindex.html">LlamaIndex Examples</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-3"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../demos/demos/LlamaIndex/RAGPlayground/README.html">RAG Playground</a></li>
<li class="toctree-l2"><a class="reference internal" href="../demos/demos/LlamaIndex/BasicUsage/unify.html">LlamaIndex</a></li>
</ul>
</li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Interfaces</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="connecting_stack.html">Connecting your stack</a></li>
<li class="toctree-l1"><a class="reference internal" href="running_benchmarks.html">Benchmarking endpoints</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Building a custom router</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Concepts</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../concepts/endpoints.html">Model Endpoints</a></li>
<li class="toctree-l1"><a class="reference internal" href="../concepts/benchmarks.html">Benchmarks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../concepts/routing.html">Routing</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Breadcrumb">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    <li class="breadcrumb-item active" aria-current="page">Building a...</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="building-a-custom-router">
<h1>Building a custom router<a class="headerlink" href="#building-a-custom-router" title="Link to this heading">#</a></h1>
<p>In this section, you‚Äôll learn how to train and customize a router through the console.</p>
<section id="training-a-custom-router-beta">
<h2>Training a custom router (Beta)<a class="headerlink" href="#training-a-custom-router-beta" title="Link to this heading">#</a></h2>
<p>Going to the <code class="code docutils literal notranslate"><span class="pre">Routers</span></code> page, you can add a new router by first clicking on <code class="code docutils literal notranslate"><span class="pre">Add</span> <span class="pre">Router</span></code>. The upload window enables you to name the router, and specify the endpoints to route between and datasets to train on.</p>
<p>For this example, we‚Äôll name our router <code class="code docutils literal notranslate"><span class="pre">gpt-claude-llama3-calls</span></code>, as we intend to train on the custom call datasets we uploaded earlier and use GPT 4 as well as Claude 3, the base Llama 3 model, and our fine tuned variants as endpoints.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You can learn how to add a custom endpoint and dataset <a class="reference external" href="https://unify.ai/docs/interfaces/connecting_stack.html">here</a></p>
</div>
<p>You can select the included models and / or datasets from the corresponding dropdowns. Your custom model endpoints and datasets will be included in the lists.</p>
<a class="reference internal image-reference" href="../_images/console_routers_train.png"><img alt="Console Routers Train." class="align-center" src="../_images/console_routers_train.png" style="width: 650px;" /></a>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You may notice that the endpoint providers are not listed. This is because the router training does not depend on the provider, only the model.</p>
</div>
<p>Finally, clicking the <code class="code docutils literal notranslate"><span class="pre">Train</span></code> button will submit a training job. If you go to the <code class="code docutils literal notranslate"><span class="pre">Benchmarks</span></code> page, you‚Äôll see that the router training job has automatically scheduled some quality benchmarks on your behalf. For any quality benchmarks which have already been performed ahead of time, the work will not be duplicated.</p>
<a class="reference internal image-reference" href="../_images/console_routers_benchmarking.png"><img alt="Console Routers Benchmarking." class="align-center" src="../_images/console_routers_benchmarking.png" style="width: 650px;" /></a>
<p>For example, we previously benchmarked <code class="code docutils literal notranslate"><span class="pre">llama-3-tuned-calls1</span></code> and <code class="code docutils literal notranslate"><span class="pre">llama-3-tuned-call2</span></code> on the datasets <code class="code docutils literal notranslate"><span class="pre">Customer</span> <span class="pre">Calls</span> <span class="pre">Q1</span></code> and <code class="code docutils literal notranslate"><span class="pre">Customer</span> <span class="pre">Calls</span> <span class="pre">Q2</span></code>, so this will not be repeated. However, we have not yet benchmarked <code class="code docutils literal notranslate"><span class="pre">llama-3-70b-chat</span></code> and <code class="code docutils literal notranslate"><span class="pre">gpt-4</span></code> on these datasets for e.g, so these are automatically triggered by the router training request.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You will receive an email when the results are ready, so no need to manually track the progress!</p>
</div>
<p>With the benchmarks done, the router is moved to the training stage and, accordingly, training is triggered.</p>
<a class="reference internal image-reference" href="../_images/console_routers_training.png"><img alt="Console Routers Training." class="align-center" src="../_images/console_routers_training.png" style="width: 650px;" /></a>
<p>Once the router training is complete, you will receive a second email. The router performance can now be visualized on the <code class="code docutils literal notranslate"><span class="pre">Dashboard</span></code> page.</p>
</section>
<section id="customizing-your-router-beta">
<h2>Customizing your router (Beta)<a class="headerlink" href="#customizing-your-router-beta" title="Link to this heading">#</a></h2>
<p>Now that we have a trained router, the next step is to explore the various possible configurations for this router, each trading off quality, speed and cost in different variations. These various options can be visualized in the <code class="code docutils literal notranslate"><span class="pre">Dashboard</span></code>.</p>
<p>As before, we first choose the dataset to benchmark on. After selecting the dataset, all data points which have been benchmarked on this dataset will automatically be plotted, including the custom router.</p>
<a class="reference internal image-reference" href="../_images/console_dashboard_custom_router_plotting.png"><img alt="Console Dashboard Custom Router Plotting." class="align-center" src="../_images/console_dashboard_custom_router_plotting.png" style="width: 650px;" /></a>
<p>The base router and all custom routers can be further configured, by clicking on <code class="code docutils literal notranslate"><span class="pre">Router</span></code>, and then clicking on the router which you‚Äôd like to customize.</p>
<a class="reference internal image-reference" href="../_images/console_dashboard_router.png"><img alt="Console Dashboard Router." class="align-center" src="../_images/console_dashboard_router.png" style="width: 650px;" /></a>
<p>The next window allows you to create a router view. A router view takes a router and constrains the search space in some way. This can be useful if you only have access to certain models or providers in the deployment environment, or if you want to ensure each model routed to is guaranteed to meet certain quality and performance requirements.</p>
<a class="reference internal image-reference" href="../_images/console_dashboard_custom_view.png"><img alt="Console Dashboard Custom View." class="align-center" src="../_images/console_dashboard_custom_view.png" style="width: 650px;" /></a>
<p>Of course, only the models the router has been trained on will be visible in the dropdown. However, you can remove some of these models from the search space. Let‚Äôs presume we don‚Äôt want to use Anthropic models, as we don‚Äôt have them properly configured to run in our deployment environment yet.</p>
<p>We don‚Äôt want to save the router view to our account, we‚Äôre only testing at the moment. We therefore click <code class="code docutils literal notranslate"><span class="pre">Apply</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Alternatively, had we clicked on <code class="code docutils literal notranslate"><span class="pre">Save</span></code>, this would have overwritten the <code class="code docutils literal notranslate"><span class="pre">gpt-clauce-llama3-calls</span></code> router in place.</p>
</div>
<p>In the legend, the router view is displayed underneath its parent router.</p>
<a class="reference internal image-reference" href="../_images/console_dashboard_no_anthropic.png"><img alt="Console Dashboard No Anthropic." class="align-center" src="../_images/console_dashboard_no_anthropic.png" style="width: 650px;" /></a>
<p>We can see that removing the Anthropic models slightly reduced the performance of the router, but not by a noticeable amount. Let‚Äôs assume we decide to stick with this decision, to avoid the need to set up Anthropic in our deployment environment in the immediate future.</p>
<p>The next task is to choose the data point which best balances quality, speed and cost for our application. If a point is selected, its details will appear below the legend. Details include the full Id of the configuration, as well as the routing frequency per endpoint on this dataset</p>
<a class="reference internal image-reference" href="../_images/console_dashboard_custom_selected.png"><img alt="Console Dashboard Custom Selected." class="align-center" src="../_images/console_dashboard_custom_selected.png" style="width: 650px;" /></a>
<p>We select a data point that looks balanced. We can see that, on this dataset, this router configuration makes use of <code class="code docutils literal notranslate"><span class="pre">gpt4</span></code> 42% of the time, <code class="code docutils literal notranslate"><span class="pre">llama-3-tuned-calls1</span></code> 29% of the time, <code class="code docutils literal notranslate"><span class="pre">llama-3-tuned-calls2</span></code> 18% of the time, and <code class="code docutils literal notranslate"><span class="pre">llama-3-70b-chat</span></code> 11% of the time.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Once the point is selected, that same point will be visible across all metrics graphs, with x axes for cost, inter-token-latency and time-to-first-token. This lets you verify how the configuration performs for other metrics.</p>
</div>
<p>As with the router views, we can either save this router configuration for the current session by clicking on <code class="code docutils literal notranslate"><span class="pre">Apply</span></code>, or permanently to our user account. Let‚Äôs assume we‚Äôre very happy with this configuration, and we don‚Äôt want to forget it. We‚Äôll therefore save it to our account by clicking <code class="code docutils literal notranslate"><span class="pre">Save</span> <span class="pre">As</span></code>. This opens a window where we can change the name our configuration before saving it.</p>
<a class="reference internal image-reference" href="../_images/console_dashboard_custom_configuration.png"><img alt="Console Dashboard Custom Selected." class="align-center" src="../_images/console_dashboard_custom_configuration.png" style="width: 650px;" /></a>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This router configuration depends on the router view <code class="code docutils literal notranslate"><span class="pre">gpt-claude-llama3-calls-&gt;no-anthropic</span></code>, which has not yet been saved to the account. We are therefore informed that this will also save the router view to the account.</p>
</div>
<p>Once saved, the new router view and router configuration are then both visible on the <code class="code docutils literal notranslate"><span class="pre">Routers</span></code> page of your account. You can delete views and configurations anytime from that page. Pressing the copy button beside the configuration will copy the full configuration to the clipboard, in this case <code class="code docutils literal notranslate"><span class="pre">gpt-claude-llama3-calls-&gt;no-anthropic_8.28e-03_4.66e-0.4_1.00e-06&#64;unify</span></code>.</p>
<a class="reference internal image-reference" href="../_images/console_routers_configurations_views.png"><img alt="Console Routers Configurations Views." class="align-center" src="../_images/console_routers_configurations_views.png" style="width: 650px;" /></a>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You can also copy the configuration from the dashboard which will now show it (along with the parent view) by default.</p>
</div>
</section>
<section id="round-up">
<h2>Round Up<a class="headerlink" href="#round-up" title="Link to this heading">#</a></h2>
<p>That‚Äôs it! You have now trained your first custom router, ready to be used through our API. You can now <a class="reference external" href="https://unify.ai/docs/api/deploy_router.html">deploy it</a>, or learn <a class="reference external" href="https://unify.ai/docs/api/first_request.html">how to query endpoints</a> first.</p>
</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="running_benchmarks.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Benchmarking endpoints</p>
      </div>
    </a>
    <a class="right-next"
       href="../concepts/endpoints.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Model Endpoints</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#training-a-custom-router-beta">Training a custom router (Beta)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#customizing-your-router-beta">Customizing your router (Beta)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#round-up">Round Up</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
<script src="https://cdn.saas.unify.ai/js/unify-components-shared.js"></script>
<script src="https://cdn.saas.unify.ai/js/unify-components.js"></script>
<div id="navbar-contents" style="display: none;">
  
  <div class="navbar-header-items__end">
    
    <div class="navbar-item navbar-persistent--container">
      

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
    </div>
    
    
    <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script></div>
    
  </div>
  
</div>
<script>
  const html = `<div></div>`;
  const toc = `<nav class="bd-docs-nav bd-links"
  aria-label="Section Navigation">
    <div class="bd-toc-item navbar-nav">
        <ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../index.html">Welcome to Unify!</a></li>
<li class="toctree-l1"><a class="reference external" href="https://api.unify.ai/v0/docs">API Reference</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">API</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../api/unify_api.html">Universal API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/benchmarks.html">Benchmarking</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/router.html">Routing</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Demos</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../demos/unify.html">Python Package Examples</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../demos/demos/Unify/ChatBot/ChatBot.html">Build a ChatBot</a></li>


<li class="toctree-l2"><a class="reference internal" href="../demos/demos/Unify/AsyncVsSync/AsyncVsSync.html">Synchronous VS Asynchronous Clients</a></li>

<li class="toctree-l2"><a class="reference internal" href="../demos/demos/Unify/LLM-Wars/README.html">LLM-Wars</a></li>
<li class="toctree-l2"><a class="reference internal" href="../demos/demos/Unify/SemanticRouter/README.html">Semantic Router</a></li>
<li class="toctree-l2"><a class="reference internal" href="../demos/demos/Unify/Chatbot_Arena/README.html">Chatbot Arena</a></li>
<li class="toctree-l2"><a class="reference internal" href="../demos/demos/Unify/LLM_Debate/README.html">AI Debate App</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../demos/langchain.html">LangChain Examples</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-2"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../demos/demos/LangChain/RAG_playground/README.html">RAG Playground üõù</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../demos/llamaindex.html">LlamaIndex Examples</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-3"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../demos/demos/LlamaIndex/RAGPlayground/README.html">RAG Playground</a></li>
<li class="toctree-l2"><a class="reference internal" href="../demos/demos/LlamaIndex/BasicUsage/unify.html">LlamaIndex</a></li>
</ul>
</li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Interfaces</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="connecting_stack.html">Connecting your stack</a></li>
<li class="toctree-l1"><a class="reference internal" href="running_benchmarks.html">Benchmarking endpoints</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Building a custom router</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Concepts</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../concepts/endpoints.html">Model Endpoints</a></li>
<li class="toctree-l1"><a class="reference internal" href="../concepts/benchmarks.html">Benchmarks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../concepts/routing.html">Routing</a></li>
</ul>

    </div>
</nav>`;
  initializeNavbar(html, true, toc);
  Promise.all([waitForElm("unify-navbar-end"), waitForElm("unify-mobile-navbar-end")]).then(([target, mobileTarget]) => {
    for (let elem of document.getElementById("navbar-contents").children) {
      target.children[0].appendChild(elem.cloneNode(true));
      mobileTarget.children[0].appendChild(elem.cloneNode(true));
    }
    document.getElementById("navbar-contents").remove();
    const scripts = `
  &lt!-- Scripts loaded after &ltbody&gt so the DOM is not blocked --&gt
  &ltscript src="../_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae"&gt&lt/script&gt
&ltscript src="../_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae"&gt&lt/script&gt
`.replace(/&lt/g, "<").replace(/&gt/g, ">");
    const divFragment = document.createRange().createContextualFragment(scripts);
    document.body.prepend(divFragment);
  });
</script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      ¬© Copyright 2020-2023, Unify.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.2.5.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.15.2.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>